<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="/img/favicono.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&display=swap"
      rel="stylesheet"
    />
    <title>Cyber Gym</title>
    <link rel="stylesheet" href="./index.css" />
  </head>
  <body>
    <main>
      <div class="content__box">
        <img
          class="page-img"
          src="./img/main-background.webp"
          alt="View into outer space through the porthole"
        />
        <div class="signboard"></div>
        <img
          src="./img/banner.jpg"
          alt="banner"
          class="banner-img"
          width="420"
          height="650"
        />
        <h2 class="banner__text">Welcome to CyberGym</h2>
      </div>
      <div class="main-page-btn__box">
        <a href="./menu.html" class="btn" id="entranceBtn">Entrance</a>
        <button class="btn" id="registrationBtn">Registration</button>
      </div>

      <form action="server.php" method="post" class="verification-form">
        <label for="verif-nickname-form__input">Nickname</label>
        <input
          type="text"
          class="form__input"
          id="verif-nickname-form__input"
          required
        />

        <label for="verif-password-form__input">Password</label>
        <input
          type="password"
          class="form__input"
          id="verif-password-form__input"
          required
        />
        <button class="btn">Entrance</button>
      </form>

      <form action="server.php" method="POST" class="reg-form">
        <label for="niсk-field">Your nickname</label>
        <input
          type="text"
          class="form__input"
          id="niсk-field"
          name="nickname"
          required
          minlength="3"
          maxlength="20"
        />

        <label for="email-field">Your email</label>
        <input
          type="email"
          class="form__input"
          id="email-field"
          name="email"
          required
          autocomplete="off"
        />

        <label for="password-field">Password</label>
        <input
          type="password"
          class="form__input"
          id="password-field"
          name="password"
          required
          minlength="4"
        />
        <input type="text" name="honeypot" style="display: none" />
        <label for="conf-password-field">Confirm Password</label>
        <input
          type="password"
          class="form__input"
          id="conf-password-field"
          name="confirm_password"
          required
        />

        <button type="submit" class="btn">Activation</button>
        <button
          class="close-form__btn btn"
          type="button"
          id="close-reg-form-btn"
        >
          c
        </button>
      </form>
    </main>
    <footer>
      <div class="footer__content--box">
        <h3>
          All rights belong to
          <a
            href="https://vk.com/id48109283"
            class="footer__link"
            target="_blank"
            >Pavel Mironov</a
          >
        </h3>
      </div>
    </footer>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const regForm = document.querySelector(".reg-form");
        const regButton = document.getElementById("registrationBtn");
        const closeButton = document.getElementById("close-reg-form-btn");
        const buttonsBox = document.querySelector(".main-page-btn__box");

        function showForm() {
          regForm.classList.add("show");
          buttonsBox.style.display = "none";
        }

        function hideForm() {
          regForm.classList.remove("show");
          buttonsBox.style.display = "flex";
        }

        regButton.addEventListener("click", showForm);
        closeButton.addEventListener("click", hideForm);

        regForm.addEventListener("submit", (event) => {
          let password = document.getElementById("password-field").value;
          let confirmPassword = document.getElementById(
            "conf-password-field"
          ).value;

          if (password !== confirmPassword) {
            event.preventDefault();
            alert("Пароли не совпадают!");
          }
        });
      });
    </script>

    <script>
      document
        .querySelector(".reg-form")
        .addEventListener("submit", function (event) {
          let password = document.getElementById("password-field").value;
          let confirmPassword = document.getElementById(
            "conf-password-field"
          ).value;

          if (password !== confirmPassword) {
            event.preventDefault(); // Отмена отправки
            alert("Пароли не совпадают!");
          }
        });
    </script>
    <script type="module" src="./index.js"></script>
  </body>
</html>
